<section id="properties">
  <h1><i class="fas fa-building"></i> Manage Properties</h1>
  <p>Feature to add, edit, or delete property listings.</p>
  <button onclick="openAddPropertyModal()" class="add-property-btn">Add Property</button>
  <div class="demo">
    <h2>Property List</h2>
    <table>
      <thead>
        <tr>
          <th>Property ID</th>
          <th>Name</th>
          <th>Location</th>
          <th>Price</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="property-table-body">
        <!-- Property rows will be dynamically populated -->
      </tbody>
    </table>
  </div>
</section>

<!-- Add Property Modal -->
<div id="add-property-modal" class="modal" style="display: none;">
  <div class="modal-content">
    <h2>Add New Property</h2>
    <form id="add-property-form">
      <label for="add-property-name">Property Name:</label>
      <input type="text" id="add-property-name" required />

      <label for="add-property-location">Location:</label>
      <input type="text" id="add-property-location" required />

      <label for="add-property-price">Price:</label>
      <input type="number" id="add-property-price" required />

      <label for="add-property-status">Status:</label>
      <select id="add-property-status" required>
        <option value="Available">Available</option>
        <option value="Sold">Sold</option>
      </select>

      <button type="submit" class="save-property-btn">Add Property</button>
      <button type="button" class="cancel-btn" onclick="closeAddPropertyModal()">Cancel</button>
    </form>
  </div>
</div>

<!-- Edit Property Modal -->
<div id="edit-property-modal" class="modal" style="display: none;">
  <div class="modal-content">
    <h2>Edit Property</h2>
    <form id="edit-property-form">
      <label for="edit-property-name">Property Name:</label>
      <input type="text" id="edit-property-name" required />

      <label for="edit-property-location">Location:</label>
      <input type="text" id="edit-property-location" required />

      <label for="edit-property-price">Price:</label>
      <input type="number" id="edit-property-price" required />

      <label for="edit-property-status">Status:</label>
      <select id="edit-property-status" required>
        <option value="Available">Available</option>
        <option value="Sold">Sold</option>
      </select>

      <button type="submit" class="save-property-btn">Save Changes</button>
      <button type="button" class="cancel-btn" onclick="closeEditModal()">Cancel</button>
    </form>
  </div>
</div>

<script>
  const properties = [
    { id: 101, name: 'Luxury Villa', location: 'New York', price: 500000, status: 'Available' },
    { id: 102, name: 'Beach House', location: 'California', price: 750000, status: 'Sold' },
  ];
  let editIndex = null;

  // Populate Properties
  function populateProperties() {
    const propertyTableBody = document.getElementById('property-table-body');
    propertyTableBody.innerHTML = '';
    properties.forEach((property, index) => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${property.id}</td>
        <td>${property.name}</td>
        <td>${property.location}</td>
        <td>${property.price}</td>
        <td>${property.status}</td>
        <td>
          <button onclick="openEditModal(${index})" class="edit-btn">Edit</button>
          <button onclick="deleteProperty(${index})" class="delete-btn">Delete</button>
        </td>
      `;
      propertyTableBody.appendChild(row);
    });
  }

  // Open Add Property Modal
  function openAddPropertyModal() {
    document.getElementById('add-property-modal').style.display = 'flex';
  }

  // Close Add Property Modal
  function closeAddPropertyModal() {
    document.getElementById('add-property-modal').style.display = 'none';
  }

  // Add New Property
  document.getElementById('add-property-form').addEventListener('submit', function (event) {
    event.preventDefault();
    const newProperty = {
      id: properties.length + 101,
      name: document.getElementById('add-property-name').value,
      location: document.getElementById('add-property-location').value,
      price: document.getElementById('add-property-price').value,
      status: document.getElementById('add-property-status').value,
    };
    properties.push(newProperty);
    closeAddPropertyModal();
    populateProperties();
  });

  // Open Edit Modal
  function openEditModal(index) {
    editIndex = index;
    const property = properties[index];
    document.getElementById('edit-property-name').value = property.name;
    document.getElementById('edit-property-location').value = property.location;
    document.getElementById('edit-property-price').value = property.price;
    document.getElementById('edit-property-status').value = property.status;
    document.getElementById('edit-property-modal').style.display = 'block';
  }

  // Close Edit Modal
  function closeEditModal() {
    document.getElementById('edit-property-modal').style.display = 'none';
  }

  // Save Edited Property
  document.getElementById('edit-property-form').addEventListener('submit', function (event) {
    event.preventDefault();
    const updatedProperty = {
      name: document.getElementById('edit-property-name').value,
      location: document.getElementById('edit-property-location').value,
      price: document.getElementById('edit-property-price').value,
      status: document.getElementById('edit-property-status').value,
    };
    properties[editIndex] = { ...properties[editIndex], ...updatedProperty };
    closeEditModal();
    populateProperties();
  });

  // Delete Property
  function deleteProperty(index) {
    properties.splice(index, 1);
    populateProperties();
  }

  // Populate properties on page load
  document.addEventListener('DOMContentLoaded', populateProperties);
</script>
